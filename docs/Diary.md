## 2024-05-10

### Наблюдения
- Серверный обработчик для типографской обработки .docx реализован через прямое редактирование XML (document.xml и footnotes.xml).
- Типографика применяется по согласованным правилам (длинное тире, исключения для цифр, сокращений и т.д.).
- Имя файла — транслитерированное, без суффиксов.
- Сохраняется форматирование и структура документа.

### Решения
- Отказ от docxtemplater в пользу прямой работы с XML через PizZip.
- Исправлена передача файла в mammoth (используется Buffer).
- Реализована обработка только нужных частей документа (без endnotes, headers и др.).

### Проблемы
- Требуется дополнительное тестирование на edge-кейсах.
- Необходима доработка changelog и tasktracker после завершения всех изменений.

## 2024-05-11

### Наблюдения
- Обнаружены баги: множественные пробелы не всегда заменялись, en dash между словами не всегда превращался в em dash, внутри сложных слов (всё-таки) появлялся неразрывный пробел.
- Пользователь подтвердил, что поддержка .doc и .txt не требуется.

### Решения
- Исправлена обработка пробелов: теперь заменяются любые пробельные символы, а также пробелы в начале/конце строк.
- Исправлена замена en dash между словами/с пробелами на em dash с неразрывным пробелом.
- Исправлена защита сложных слов с дефисом: не вставляется неразрывный пробел внутри них.
- Убрана поддержка .doc и .txt, оставлен только .docx.
- Обновлена документация (Project.md, Tasktracker.md, Diary.md).

### Проблемы
- Требуется дополнительное тестирование на edge-кейсах после исправлений.

## [2024-06-11]

### Наблюдения
- RTF-парсер не справляется с реальными файлами Word (сложная структура, Unicode, сноски).
- DOCX-архитектура с PizZip и processDocxXml позволяет сохранять форматирование и сноски.

### Решения
- Вернуть сервис к работе только с DOCX.
- Обновить интерфейс (предупреждение), документацию и гайды.

### Проблемы
- Нет поддержки RTF на сервере (Vercel restriction, отсутствие стабильных npm-парсеров)
- Возможны вопросы пользователей — добавлена явная инструкция. 